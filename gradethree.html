<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spelling Bee</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1 onclick="document.location='index.html'">Grade 3 Words</h1>
        <p class="subtitle">Tap to play audio and turn green â€¢ Double-tap to reset color</p>
        
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search for a word...">
        </div>
        
        <div class="word-list" id="wordList">
            <!-- Word items will be generated by JavaScript -->
        </div>
        
        <!-- <div class="instructions">
            <p><strong>How to use:</strong> Tap any word to play its audio and change its color to green. Double-tap to reset the color back to default.</p>
        </div> -->
        
        <p class="footer">Words with audio from Cambridge Dictionary</p>
    </div>

    <script>
        // Array of words with their corresponding audio file URLs
        const wordData = [
            { word: "own", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uko/ukove/ukoverw013.mp3" },
            { word: "out", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uko/ukoug/ukough_009.mp3" },
            { word: "run", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukr/ukrum/ukrum__018.mp3" },
            { word: "box", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukb/ukbou/ukbount021.mp3" },
            { word: "pig", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukp/ukpic/ukpictu020.mp3" },
            { word: "red", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukr/ukray/ukrayon024.mp3" },
            { word: "once", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uko/ukomn/ukomniv003.mp3" },
            { word: "near", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukn/uknav/uknaval021.mp3" },
            { word: "jump", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukj/ukjud/ukjudic027.mp3" },
            { word: "east", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uke/ukeas/ukeasil004.mp3" },
            { word: "sign", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksie/uksiege014.mp3" },
            { word: "life", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukl/uklic/uklicen020.mp3" },
            { word: "fact", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukf/ukfac/ukfacin003.mp3" },
            { word: "hand", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukh/ukhal/ukhallw029.mp3" },
            { word: "rain", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukr/ukraf/ukraffl025.mp3" },
            { word: "star", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksta/ukstand022.mp3" },
            { word: "frog", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukf/ukfri/ukfrill022.mp3" },
            { word: "kite", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukk/ukkit/ukkit__004.mp3" },
            { word: "home", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukh/ukhol/ukholdu027.mp3" },
            { word: "door", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukd/ukdon/ukdonke014.mp3" },
            { word: "snow", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksno/uksnobb020.mp3" },
            { word: "until", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uku/ukuns/ukunspe030.mp3" },
            { word: "ship", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/ukshi/ukshine014.mp3" },
            { word: "visit", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukv/ukvis/ukvisco007.mp3" },
            { word: "table", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksyn/uksynta027.mp3" },
            { word: "chair", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukc/ukcey/ukceylo014.mp3" },
            { word: "smile", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksma/uksmash013.mp3" },
            { word: "bread", audioUrl: "https://dictionary.cambridge.org/media/english/us_pron/b/bre/bread/bread.mp3" },
            { word: "grass", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukg/ukgra/ukgranu022.mp3" },
            { word: "clock", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukc/ukcli/ukclipp014.mp3" },
            { word: "sleep", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksla/ukslave022.mp3" },
            { word: "train", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukt/uktra/uktract028.mp3" },
            { word: "light", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukl/uklif/uklifes006.mp3" },
            { word: "night", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukk/ukkne/ukkneel012.mp3" },
            { word: "shine", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/ukshi/ukshine001.mp3" },
            { word: "bring", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukb/ukbri/ukbriga019.mp3" },
            { word: "small", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/ukslu/ukslutt014.mp3" },
            { word: "plant", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukp/ukpla/ukplain017.mp3" },
            { word: "drink", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukd/ukdre/ukdress019.mp3" },
            { word: "sweet", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksug/uksugar014.mp3" },
            { word: "clean", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukc/ukcla/ukclass014.mp3" },
            { word: "magic", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukm/ukmad/ukmade_011.mp3" },
            { word: "story", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksto/ukstore008.mp3" },
            { word: "signal", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksie/uksiege015.mp3" },
            { word: "habitat", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukg/ukgyr/ukgyros009.mp3" },
            { word: "science", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksch/ukschol021.mp3" },
            { word: "family", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukf/ukfal/ukfalsi012.mp3" },
            { word: "people", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukp/ukpen/ukpente010.mp3" },
            { word: "father", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/c/cdo/cdo03/cdo0317fathuk4615.mp3" },
            { word: "mother", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukm/ukmot/ukmothe001.mp3" },
            { word: "sister", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksin/uksinle020.mp3" },
            { word: "little", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukl/uklit/uklitig008.mp3" },
            { word: "school", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksch/ukschol005.mp3" },
            { word: "friend", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukf/ukfri/ukfrica007.mp3" },
            { word: "suddenly", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksuc/uksucro005.mp3" },
            { word: "winter", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukw/ukwin/ukwinni009.mp3" },
            { word: "summer", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksul/uksulta009.mp3" },
            { word: "autumn", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uka/ukaut/ukauton008.mp3" },
            { word: "garden", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukg/ukgan/ukganja019.mp3" },
            { word: "flower", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukf/ukflo/ukflori022.mp3" },
            { word: "castle", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukc/ukcas/ukcaste003.mp3" },
            { word: "desert", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukd/ukdes/ukdescr011.mp3" },
            { word: "ladder", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukl/uklac/uklacta010.mp3" },
            { word: "courage", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukc/ukcou/ukcount027.mp3" },
            { word: "compass", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukc/ukcom/ukcompa004.mp3" },
            { word: "holiday", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukh/ukhol/ukholdu003.mp3" },
            { word: "animal", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uka/ukang/ukangel030.mp3" },
            { word: "example", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uke/ukexa/ukexami004.mp3" },
            { word: "direction", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukd/ukdip/ukdipht017.mp3" },
            { word: "brother", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukb/ukbro/ukbroke027.mp3" },
            { word: "young", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uky/ukyie/ukyield024.mp3" },
            { word: "spelling", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/ukspe/ukspell003.mp3" },
            { word: "rainbow", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukr/ukraf/ukraffl026.mp3" },
            { word: "monitor", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukm/ukmon/ukmonac030.mp3" },
            { word: "weather", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukw/ukwea/ukweari008.mp3" },
            { word: "mountain", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukm/ukmot/ukmotor019.mp3" },
            { word: "foreign", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukf/ukfor/ukforef013.mp3" },
            { word: "yesterday", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uky/ukyd_/ukyd___025.mp3" },
            { word: "tomorrow", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukt/uktol/uktold_026.mp3" },
            { word: "ingredient", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uki/uking/ukingra004.mp3" },
            { word: "investigation", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uki/ukinv/ukinvei017.mp3" },
            { word: "experiment", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uke/ukexp/ukexper002.mp3" },
            { word: "notebook", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukn/uknos/uknosh_018.mp3" },
            { word: "understand", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uku/ukund/ukunder112.mp3" },
            { word: "butterfly", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukb/ukbut/ukbutte003.mp3" },
            { word: "together", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukt/uktob/uktobyj016.mp3" },
            { word: "computer", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukc/ukcom/ukcompr014.mp3" },
            { word: "something", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uks/uksom/uksomet001.mp3" },
            { word: "adventure", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uka/ukadu/ukadult017.mp3" },
            { word: "important", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uki/ukimp/ukimplo011.mp3" },
            { word: "dangerous", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukd/ukdam/ukdamne021.mp3" },
            { word: "newspaper", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukn/uknew/uknewsc006.mp3" },
            { word: "everywhere", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uke/ukeve/ukeve__024.mp3" },
            { word: "playground", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukp/ukpla/ukplate030.mp3" },
            { word: "waterfall", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukw/ukwat/ukwater001.mp3" },
            { word: "basketball", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukb/ukbas/ukbashf013.mp3" },
            { word: "dictionary", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukd/ukdia/ukdiaph030.mp3" },
            { word: "imagination", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/uki/ukill/ukillus012.mp3" },
            { word: "lighthouse", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukl/uklif/uklifes010.mp3" },
            { word: "measurement", audioUrl: "https://dictionary.cambridge.org/media/english/uk_pron/u/ukm/ukmea/ukmeant011.mp3" },
        ];

        // Single audio element for better mobile compatibility
        const audioPlayer = new Audio();
        let currentPlayingIndex = -1;

        // Create word list items
        function createWordList() {
            const wordListContainer = document.getElementById('wordList');
            
            wordData.forEach((item, index) => {
                const wordItem = document.createElement('div');
                wordItem.className = 'word-item';
                wordItem.textContent = item.word;
                wordItem.dataset.index = index;

                const indexNumber = document.createElement('div');
                indexNumber.className = 'index-number';
                indexNumber.textContent = index + 1; // +1 to start from 1 instead of 0
                wordItem.appendChild(indexNumber);
                
                // Add click event to play audio and change color to green
                wordItem.addEventListener('click', function() {
                    playAudio(index);
                    changeToGreen(this);
                });
                
                // Add double-click event to reset color
                wordItem.addEventListener('dblclick', function(e) {
                    e.preventDefault();
                    resetColor(this);
                });
                
                // Add touch events for better mobile support
                wordItem.addEventListener('touchstart', function(e) {
                    // Prevent default to avoid double-tap zoom
                    if (e.touches.length > 1) {
                        e.preventDefault();
                    }
                }, { passive: false });
                
                wordListContainer.appendChild(wordItem);
            });
        }

        // Play audio function - optimized for mobile
        function playAudio(index) {
            // Stop current audio if playing
            if (!audioPlayer.paused) {
                audioPlayer.pause();
                audioPlayer.currentTime = 0;
            }
            
            // Remove playing class from all items
            document.querySelectorAll('.word-item').forEach(item => {
                item.classList.remove('playing');
            });
            
            // Add playing class to current item
            const currentItem = document.querySelector(`.word-item[data-index="${index}"]`);
            currentItem.classList.add('playing');
            
            // Set the audio source and play
            audioPlayer.src = wordData[index].audioUrl;
            
            // Play with error handling for mobile
            const playPromise = audioPlayer.play();
            
            if (playPromise !== undefined) {
                playPromise.catch(error => {
                    console.log("Audio play failed:", error);
                    currentItem.classList.remove('playing');
                    // Show a message to the user
                    //alert("Unable to play audio. Please make sure your device isn't on silent mode.");
                });
            }
            
            // Remove playing class when audio ends
            audioPlayer.onended = function() {
                currentItem.classList.remove('playing');
            };
            
            currentPlayingIndex = index;
        }

        // Change color to green function
        function changeToGreen(element) {
            element.classList.add('active');
        }

        // Reset color function
        function resetColor(element) {
            element.classList.remove('active');
        }

        // Search functionality
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const wordItems = document.querySelectorAll('.word-item');
                
                wordItems.forEach(item => {
                    const word = item.textContent.toLowerCase();
                    if (word.includes(searchTerm)) {
                        item.style.display = 'flex';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        }

        // Initialize the application
        window.addEventListener('DOMContentLoaded', () => {
            createWordList();
            setupSearch();
            
            // Add a user interaction requirement message for iOS
            if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {
                const instructions = document.querySelector('.instructions p');
                instructions.innerHTML += "<br><br><strong>Note for iOS:</strong> Make sure your device is not on silent mode for audio to work properly.";
            }
        });
    </script>
</body>

</html>
